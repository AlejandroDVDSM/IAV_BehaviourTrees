tree("Root")
	parallel
		repeat mute tree("Patrol")
		repeat mute tree("Dead")
		
tree("Patrol")
        fallback
            while not SeeEnemy
                fallback
                    tree("LookAround")
                    tree("Wander")
            while SeeEnemy
                tree("Attack")

tree("Attack")
    fallback
        while not IsPlayerHealthLessThan(40.0)
             sequence
                 SeeEnemy
                 TargetEnemy
                 LookAtTarget
                 fallback
                     while ShotLinedUp
                         sequence
                             Wait(0.8)
                             Fire
                     while not ShotLinedUp
                         sequence
                             SetTargetDestination
                             MoveToDestination
        while IsPlayerHealthLessThan(70.0)
            sequence
                CoverPlayer
                TargetEnemy
                LookAtTarget
                 fallback
                     while ShotLinedUp
                         sequence
                             Wait(0.8)
                             Fire                
                             
                    
                
                

tree("Dead")
	while IsHealthLessThan(0.1)
		Explode

tree("HelpPlayer")
    while IsPlayerHealthLessThan(70.0)
        CoverPlayer

tree("LookAround")
    while not SeeEnemy
        sequence
            random
                Turn(90.0)
                Turn(-90.0)
                Turn(145.0)
                Turn(-27.0)
            LookAtTarget
            WaitRandom(0.5,1.0)
            random
                Succeed
                Fail

tree("Wander")
	while not SeeEnemy
		sequence
			PickRandomDestinationNearPlayer
			MoveToDestination